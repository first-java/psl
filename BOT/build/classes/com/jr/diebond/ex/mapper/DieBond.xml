<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jr.diebond.ex.dao.DieBondDao">

	<!-- 自定义结果集,可以将sql语句查询的Resultset结果集与实体类一一对应 -->
	<resultMap type="com.jr.diebond.entity.DieBond" id="dieBond">
		<!-- 其他列映射都是用result -->
		<result column="LOT_NO" property="lotNo" javaType="java.lang.String"
			jdbcType="VARCHAR" />
		<result column="WORKID" property="workId" javaType="java.lang.String"
			jdbcType="VARCHAR" />
		<result column="CREATETIME" property="createTime" javaType="java.util.Date"
			jdbcType="DATE" />
	</resultMap>
	<!-- 上传 -->

	<insert id="save" parameterType="java.util.List"
		useGeneratedKeys="false">
		insert into
		JNBDT.DIE_BOND
		(LOT_NO,WORKID,CREATETIME )
		<foreach collection="list" item="dieBond" index="index"
			separator="union all">
			(SELECT
			#{dieBond.lotNo,jdbcType=VARCHAR},
			#{dieBond.workId,jdbcType=VARCHAR},
			sysdate FROM DUAL)
		</foreach>
	</insert>

	<insert id="saveDiebondB" parameterType="java.util.List"
		useGeneratedKeys="false">
		insert into
		JNBDT.DIE_BOND_BATCH
		(LOT_NO,batch,WORKID,CREATETIME )
		<foreach collection="list" item="dieBond" index="index"
			separator="union all">
			(SELECT
			#{dieBond.lotNo,jdbcType=VARCHAR},
			#{dieBond.batch,jdbcType=VARCHAR},
			#{dieBond.workId,jdbcType=VARCHAR},
			sysdate FROM DUAL)
		</foreach>
	</insert>
</mapper>